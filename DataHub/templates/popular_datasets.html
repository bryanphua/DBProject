{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	{% include "head.html" %}
	<link href="{% static 'css/popular_datasets.css' %}" rel="stylesheet"/>
</head>
<body id="page-top">
	{% include "nav_bar.html" %}

	<div class="container" id="everything">
		{% include "messages.html" %}
		<a href="/statistics/">Back</a>
		<h1>Most Popular Datasets</h1>
		<br/>
		<p>
			<form>
				Sort by: &nbsp;
					<select class="" name="sorting" id="stats_sorting">
						{% if sort == 'null' %}<option value="null" selected="selected">Default</option>
						{% else %}<option value="null">Default</option>{% endif %}
						
						{% if sort == 'follower_count-DESC'%}
						<option value="follower_count-DESC" selected="selected">Followers</option>
						{% else %}<option value="follower_count-DESC">Followers</option>{% endif %}
						
						{% if sort == 'rating-DESC'%}
						<option value="rating-DESC" selected="selected">Ratings</option>
						{% else %}<option value="rating-DESC">Ratings</option>{% endif %}
					</select>
			</form>
		</p>
		<br>
		<ol id="mostPopularList">
			{% for dataset in popular_datasets %}
			<li>
				<div class="dataset" onclick="toDataset('{{ dataset.id }}')">
					<div class="listUserPic">
						<img src="{% static 'img/ProfilePic.png' %}"/>
					</div>
					<div class="listDetails">
						<p><b><a href="/user/{{ dataset.creator_name }}/">{{ dataset.creator_name }}</a></b> {{ dataset.name }} </p>
						<p>Ratings:
							{% for i in "12345" %}
								{% if forloop.counter0 < dataset.rating %}
									<i class="fa fa-star"></i>
								{% else %}
									<i class="fa fa-star-o"></i>
								{% endif %}
							{% endfor %}
							{% if dataset.rating == 0 %}
							&nbsp;(No ratings yet)
							{% endif %}
						</p>
						<p>&nbsp;</p>
						<p>&nbsp;<i>#{{ dataset.genre }}</i></p>
					</div>
					<div class="listFollowStatus">
						<p>{{ dataset.follower_count }} Followers</p>
					</div>
				</div>
				<hr/>
			</li>
			{% endfor %}
		</ol>
	</div>

	{% include "foot.html" %}

</body>
</html>
