{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	{% include "head.html" %}
	<link href="{% static 'css/dataset.css' %}" rel="stylesheet"/>
</head>
<body id="page-top">
	{% include "nav_bar.html" %}
	<div class="container" id="everything">
		<div id="dataset">
			<div>
				{% include "messages.html" %}
				{% if auth and user.id != dataset_info.creator_user_id %}
					{% if dataset_info.following == 1 %}
					<input class="btn btn-following" type="button" value="Following" onclick="unfollow({{ dataset_info.id }},'dataset')" style="float: right"/>
					{% else %}
					<input class="btn btn-follow" type="button" value="Follow" onclick="follow({{ dataset_info.id }},'dataset')" style="float: right"/>
					{% endif %}
				{% endif %}
				<h1>{{ dataset_info.name }}</h1>
				<hr>
				<p>Created by: {{ dataset_info.username }}</p>
				<p>Approved by: {{ dataset_info.endorsed_by }} </p>
				<form class="" action="/dataset/rate/{{ dataset_info.id }}/" method="post">
					{% csrf_token %}
					<p>Rating:
						{% if rating == 0 %}
						No ratings yet
						{% else %}
							{% for i in "12345" %}
								{% if forloop.counter0 < rating %}
									<input type="submit" name="rating" value="{{i}}" style="background: yellow">
									{# style as a filled star #}
								{% else %}
									<input type="submit" name="rating" value="{{i}}" style="background: white">
									{# style as an empty star #}
								{% endif %}
							{% endfor %}
						{% endif %}
					</p>
				</form>
				<p>Followed by: {{ followers }}</p>
				<br>
				<p>{{ dataset_info.description }}</p>
				<br>
				<p>{{ dataset_info.genre }}</p>
			</div>

			<div id="comment">
				<h4>Comments</h4>
				<div id="commentListContainer">
					<form class="" action="/comment/{{ dataset_info.id }}/" method="post">
						{% csrf_token %}
						<textarea class="form-control" rows="4" name="content"></textarea>
						<input type="submit" class="btn btn-success" value="Comment">
					</form>
					<ul id="commentList">
						{% if not comments %}
						<li>
							<p>No comments yet</p>
						</li>
						{% endif %}
						{% for comment in comments %}
						{% include "comments.html" %}
						{% endfor %}
					</ul>
				</div>
			</div>

		</div>

		<div id="recommendation">
			<h5>Recommendations</h5>
			<ul id="recommendationList">
				<li>
					<div class="recommended-item">Dataset-2</div>
				</li>
				<li>
					<div class="recommended-item">Dataset-2</div>
				</li>
				<li>
					<div class="recommended-item">Dataset-2</div>
				</li>
			</ul>
		</div>
	</div>

	{% include "foot.html" %}


</body>
</html>
